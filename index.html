<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>TaxCompare!</title>

    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <!--link href="css/style.css" rel="stylesheet"-->

  </head>
  <body>

  <div class="container-fluid">
		
	<div class="well">
		<center><h1>Average Joe Tax Estimator</h1></center><br>
		This is a simple client-side javascript that will give your estimate for status quo versus current proposals. No data is collected and your privacy is respected unconditionally.
		This is not meant to serve as a tax software but as a means to compare the insane number of tax overhaul proposals.  <br><br>
		Tax proposals related to a common man are included here. Though 2million is the income limit in this script, this will surely not help someone in that range because of deductions that someone in that range would make to keep the tax liability low. 
		For example, someone making 2million is most probably going to have a pass thru and hence will get a bigger tax cut according to the plans in addition to, in all probability, real estate investment tax cuts.<br>
		Below guidelines are primarily taken from drafts posted online which devote most of the time to corporate rate deduction.<br><br> 
		Many of these provisions in the final bill are applicable only until 2025. Note the percentage change in taxes way below which is 0% (you read it right!) for most people compared to 14% reduction in taxes for companies<br><br>
		Passthru income and Estate taxes will be dealt with in future revisions to get a feel of how different tyes of income are treated.<br><br>
		An example family of four with 2 children and earning 150k with a mortgage to pay is shown below. While you are at it try increasing income (and consequently the state tax) 2x or halving it to see the effect on final taxes. <br><br>
		Last Updated: Dec 16, 2017, 05:30AM GMT
	</div>
	<div class="well">
		<div class="row filingclass">
			<label for="filingstatus" class="control-label col-sm-2">Filing Status</label>
			<div class="btn-group col-sm-3">
				 
				<button class="btn btn-default filingclass-selected" id="filingstatus">
					Single Individual
				</button> 
				<button data-toggle="dropdown" class="btn btn-default dropdown-toggle">
					<span class="caret"></span>
				</button>
				<ul class="dropdown-menu">
					<li>
						<a href="#" class="filingclass-item" data-id="0">Single Individual</a>
					</li>
					<li>
						<a href="#" class="filingclass-item" data-id="1">Heads of Households</a>
					</li>
					<li>
						<a href="#" class="filingclass-item" data-id="2">Married Individuals Filing Jointly</a>
					</li>
					<li>
						<a href="#" class="filingclass-item" data-id="3">Married Individuals Filing Separately</a>
					</li>
				</ul>
			</div>
		</div>

		<!--div class="row state">
			<label for="state" class="control-label col-sm-2">Select state</label>
			<div class="btn-group col-sm-3">
				 
				<button class="btn btn-default state-selected" id="state">
					AL
				</button> 
				<button data-toggle="dropdown" class="btn btn-default dropdown-toggle">
					<span class="caret"></span>
				</button>
				<ul class="dropdown-menu">
					<li>       <a href="#" class="state-item" data-id="AL">Alabama </a>      </li>
					<li>       <a href="#" class="state-item" data-id="AK">Alaska </a>      </li>
					<li>       <a href="#" class="state-item" data-id="AZ">Arizona </a>      </li>
					<li>       <a href="#" class="state-item" data-id="AR">Arkansas </a>      </li>
					<li>       <a href="#" class="state-item" data-id="CA">California </a>      </li>
					<li>       <a href="#" class="state-item" data-id="CO">Colorado </a>      </li>
					<li>       <a href="#" class="state-item" data-id="CT">Connecticut </a>      </li>
					<li>       <a href="#" class="state-item" data-id="DE">Delaware </a>      </li>
					<li>       <a href="#" class="state-item" data-id="FL">Florida </a>      </li>
					<li>       <a href="#" class="state-item" data-id="GA">Georgia </a>      </li>
					<li>       <a href="#" class="state-item" data-id="HI">Hawaii </a>      </li>
					<li>       <a href="#" class="state-item" data-id="ID">Idaho </a>      </li>
					<li>       <a href="#" class="state-item" data-id="IL">Illinois </a>      </li>
					<li>       <a href="#" class="state-item" data-id="IN">Indiana </a>      </li>
					<li>       <a href="#" class="state-item" data-id="IA">Iowa </a>      </li>
					<li>       <a href="#" class="state-item" data-id="KS">Kansas </a>      </li>
					<li>       <a href="#" class="state-item" data-id="KY">Kentucky </a>      </li>
					<li>       <a href="#" class="state-item" data-id="LA">Louisiana </a>      </li>
					<li>       <a href="#" class="state-item" data-id="ME">Maine </a>      </li>
					<li>       <a href="#" class="state-item" data-id="MD">Maryland </a>      </li>
					<li>       <a href="#" class="state-item" data-id="MA">Massachusetts </a>      </li>
					<li>       <a href="#" class="state-item" data-id="MI">Michigan </a>      </li>
					<li>       <a href="#" class="state-item" data-id="MN">Minnesota </a>      </li>
					<li>       <a href="#" class="state-item" data-id="MS">Mississippi </a>      </li>
					<li>       <a href="#" class="state-item" data-id="MO">Missouri </a>      </li>
					<li>       <a href="#" class="state-item" data-id="MT">Montana </a>      </li>
					<li>       <a href="#" class="state-item" data-id="NE">Nebraska </a>      </li>
					<li>       <a href="#" class="state-item" data-id="NV">Nevada </a>      </li>
					<li>       <a href="#" class="state-item" data-id="NH">New Hampshire </a>      </li>
					<li>       <a href="#" class="state-item" data-id="NJ">New Jersey </a>      </li>
					<li>       <a href="#" class="state-item" data-id="NM">New Mexico </a>      </li>
					<li>       <a href="#" class="state-item" data-id="NY">New York </a>      </li>
					<li>       <a href="#" class="state-item" data-id="NC">North Carolina</a>      </li>
					<li>       <a href="#" class="state-item" data-id="ND">North Dakota </a>      </li>
					<li>       <a href="#" class="state-item" data-id="OH">Ohio </a>      </li>
					<li>       <a href="#" class="state-item" data-id="OK">Oklahoma </a>      </li>
					<li>       <a href="#" class="state-item" data-id="OR">Oregon </a>      </li>
					<li>       <a href="#" class="state-item" data-id="PA">Pennsylvania </a>      </li>
					<li>       <a href="#" class="state-item" data-id="RI">Rhode Island </a>      </li>
					<li>       <a href="#" class="state-item" data-id="SC">South Carolina</a>      </li>
					<li>       <a href="#" class="state-item" data-id="SD">South Dakota </a>      </li>
					<li>       <a href="#" class="state-item" data-id="TN">Tennessee </a>      </li>
					<li>       <a href="#" class="state-item" data-id="TX">Texas </a>      </li>
					<li>       <a href="#" class="state-item" data-id="UT">Utah </a>      </li>
					<li>       <a href="#" class="state-item" data-id="VT">Vermont </a>      </li>
					<li>       <a href="#" class="state-item" data-id="VA">Virginia </a>      </li>
					<li>       <a href="#" class="state-item" data-id="WA">Washington </a>      </li>
					<li>       <a href="#" class="state-item" data-id="WV">West Virginia </a>      </li>
					<li>       <a href="#" class="state-item" data-id="WI">Wisconsin </a>      </li>
					<li>       <a href="#" class="state-item" data-id="WY">Wyoming </a>      </li>

				</ul>
			</div>
		</div-->
		
		<div class="row personalexemptioncount">
			<label for="personalexemptioncount" class="control-label col-sm-2">Personal exemption count</label>
			<div class="col-sm-2"  data-toggle1="tooltip" data-placement="top" title="Include yourself, spouse and dependents subject to withholding rules">
				<div class="btn-group">
					<button class="btn btn-default personalexemptioncount-selected" id="personalexemptioncount">
						1
					</button> 
					<button data-toggle="dropdown" class="btn btn-default dropdown-toggle">
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu">
						<li> <a href="#" class="personalexemptioncount-item" data-id="1">1</a> </li>
						<li> <a href="#" class="personalexemptioncount-item" data-id="2">2</a> </li>
						<li> <a href="#" class="personalexemptioncount-item" data-id="3">3</a> </li>
						<li> <a href="#" class="personalexemptioncount-item" data-id="4">4</a> </li>
						<li> <a href="#" class="personalexemptioncount-item" data-id="5">5</a> </li>
						<li> <a href="#" class="personalexemptioncount-item" data-id="6">6</a> </li>
						<li> <a href="#" class="personalexemptioncount-item" data-id="7">7</a> </li>
					</ul>
				</div>
			</div>
		</div>

		<div class="row childcount">
			<label for="childcount" class="control-label col-sm-2">Dependent children</label>
			<div class="col-sm-2"  data-toggle1="tooltip"  data-placement="top" title="Count number of children qualifying for credit">			
				<div class="btn-group">
					<button class="btn btn-default childcount-selected" id="childcount">
						0
					</button> 
					<button data-toggle="dropdown" class="btn btn-default dropdown-toggle">
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu">
						<li> <a href="#" class="childcount-item" data-id="0">0</a> </li>
						<li> <a href="#" class="childcount-item" data-id="1">1</a> </li>
						<li> <a href="#" class="childcount-item" data-id="2">2</a> </li>
						<li> <a href="#" class="childcount-item" data-id="3">3</a> </li>
						<li> <a href="#" class="childcount-item" data-id="4">4</a> </li>
					</ul>
				</div>
			</div>	
		</div>
		<div class="row nonchildcount">
			<label for="nonchildcount" class="control-label col-sm-2">Dependents who are not children</label>
			<div class="col-sm-2"  data-toggle1="tooltip"  data-placement="top" title="Count dependents who dont count as qualifying children">			
				<div class="btn-group">
					<button class="btn btn-default nonchildcount-selected" id="nonchildcount">
						0
					</button> 
					<button data-toggle="dropdown" class="btn btn-default dropdown-toggle">
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu">
						<li> <a href="#" class="nonchildcount-item" data-id="0">0</a> </li>
						<li> <a href="#" class="nonchildcount-item" data-id="1">1</a> </li>
						<li> <a href="#" class="nonchildcount-item" data-id="2">2</a> </li>
						<li> <a href="#" class="nonchildcount-item" data-id="3">3</a> </li>
						<li> <a href="#" class="nonchildcount-item" data-id="4">4</a> </li>
					</ul>
				</div>
			</div>
		</div>
		<div class="row ACApenaltyadultcount">
			<label for="ACApenaltyadultcount" class="control-label col-sm-2">Adults without health insurance</label>
			<div class="col-sm-2"  data-toggle1="tooltip" data-placement="top" title="How many adults didnt have health insurance for atleast 3 entire calendar months">
				<div class="btn-group">
					<button class="btn btn-default ACApenaltyadultcount-selected" id="ACApenaltyadultcount">
						0
					</button> 
					<button data-toggle="dropdown" class="btn btn-default dropdown-toggle">
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu">
						<li> <a href="#" class="ACApenaltyadultcount-item" data-id="0">0</a> </li>
						<li> <a href="#" class="ACApenaltyadultcount-item" data-id="1">1</a> </li>
						<li> <a href="#" class="ACApenaltyadultcount-item" data-id="2">2</a> </li>
						<li> <a href="#" class="ACApenaltyadultcount-item" data-id="3">3</a> </li>
						<li> <a href="#" class="ACApenaltyadultcount-item" data-id="4">4</a> </li>
						<li> <a href="#" class="ACApenaltyadultcount-item" data-id="5">5</a> </li>
						<li> <a href="#" class="ACApenaltyadultcount-item" data-id="6">6</a> </li>
						<li> <a href="#" class="ACApenaltyadultcount-item" data-id="7">7</a> </li>
					</ul>
				</div>
			</div>
		</div>
		<div class="row ACApenaltychildcount">
			<label for="ACApenaltychildcount" class="control-label col-sm-2">Children without health insurance</label>
			<div class="col-sm-2"  data-toggle1="tooltip" data-placement="top" title="How many children didnt have health insurance for atleast 3 entire calendar months">
				<div class="btn-group">
					<button class="btn btn-default ACApenaltychildcount-selected" id="ACApenaltychildcount">
						0
					</button> 
					<button data-toggle="dropdown" class="btn btn-default dropdown-toggle">
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu">
						<li> <a href="#" class="ACApenaltychildcount-item" data-id="0">0</a> </li>
						<li> <a href="#" class="ACApenaltychildcount-item" data-id="1">1</a> </li>
						<li> <a href="#" class="ACApenaltychildcount-item" data-id="2">2</a> </li>
						<li> <a href="#" class="ACApenaltychildcount-item" data-id="3">3</a> </li>
						<li> <a href="#" class="ACApenaltychildcount-item" data-id="4">4</a> </li>
						<li> <a href="#" class="ACApenaltychildcount-item" data-id="5">5</a> </li>
						<li> <a href="#" class="ACApenaltychildcount-item" data-id="6">6</a> </li>
						<li> <a href="#" class="ACApenaltychildcount-item" data-id="7">7</a> </li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	
	<div class="well">
		<div class="row salariedincome">
			<label for="salariedincome" class="control-label col-sm-2">W2 Wages and Tips</label>
			<div class="col-sm-2"><input type="text" class="form-control" id="salariedincome" value="0"></div>
		</div>
		<div class="row passthruincome hide">
			<label for="passthruincome" class="control-label col-sm-2">Passthru Income</label>
			<div class="col-sm-2"><input type="text" class="form-control" id="passthruincome" value="0"></div>
		</div>
	</div>
	
	<div class="well">
		<div class="row">
			<div class="col-sm-2"></div>
			<div class="col-sm-2"></div>
			<div class="col-sm-2"><h3>Status Quo</h3></div>
			<div class="col-sm-2"><h3>Senate Bill</h3></div>		
			<div class="col-sm-2"><h3>House Bill</h3></div>		
			<div class="col-sm-2"><h3>Final Bill</h3></div>		
		</div>
	</div>

	<div class="well">
		<div class="row stdded">
			<label class="control-label col-sm-2">Standard deduction</label>
			<div class="col-sm-2"></div>
			<div class="col-sm-2 statusquo">$6350</div>
			<div class="col-sm-2 senatebill">$12000</div>		
			<div class="col-sm-2 housebill">$12200</div>		
			<div class="col-sm-2 finalbill">$12000</div>		
		</div>
		<div class="row personalexemption">
			<label class="control-label col-sm-2">Personal Exemption</label>
			<div class="col-sm-2"></div>
			<div class="col-sm-2 statusquo">$4050</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>
	</div>

	<div class="well deduction">
		<div class="row salt">
			<label for="salt" class="control-label col-sm-2">State income taxes</label>
			<div class="col-sm-2"><input type="text" class="form-control" id="salt" value="0" data-toggle1="tooltip" title="Enter your Sales and Local Taxes to deduct, if any"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>

		<div class="row property">
			<label for="property" class="control-label col-sm-2">Local property taxes</label>
			<div class="col-sm-2"><input type="text" class="form-control" id="property" value="0" data-toggle1="tooltip" title="Property taxes for your home"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>

		<div class="row mortgage">
			<label for="mortgage" class="control-label col-sm-2">Mortgage Interest</label>
			<div class="col-sm-2"><input type="text" class="form-control" id="mortgage" value="0" data-toggle1="tooltip" title="Interest paid on your mortgage in an entire year"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>

		<div class="row studentloan">
			<label for="studentloan" class="control-label col-sm-2">Student Loan Interest</label>
			<div class="col-sm-2"><input type="text" class="form-control" id="studentloan" value="0" data-toggle1="tooltip" title="Interest paid on your student loan repayment in an entire year"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>

		<div class="row teacherexpense">
			<label for="teacherexpense" class="control-label col-sm-2">Teacher Expenses</label>
			<div class="col-sm-2"><input type="text" class="form-control" id="teacherexpense" value="0" data-toggle1="tooltip" title="Provide any expense you need to deduct as a teacher"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>

		<div class="row medicalexpense">
			<label for="medicalexpense" class="control-label col-sm-2">Annual Medical Expenses</label>
			<div class="col-sm-2"><input type="text" class="form-control" id="medicalexpense" value="0" data-toggle1="tooltip" title="Include medical expenses in a year"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>

		<div class="row taxprep">
			<label for="taxprep" class="control-label col-sm-2">Tax preparation expense</label>
			<div class="col-sm-2"><input type="text" class="form-control" id="taxprep" value="0" data-toggle1="tooltip" title="Enter tax preparation expense"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>

		<div class="row movingexpense">
			<label for="movingexpense" class="control-label col-sm-2">Expenses incurred in moving jobs</label>
			<div class="col-sm-2"><input type="text" class="form-control" id="movingexpense" value="0" data-toggle1="tooltip" title="Any expenses incurred in permanently moving for employment purposes"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>

	</div>
	
	<div class="well credit">
		<div class="row childcredit">
			<label class="control-label col-sm-2">Child credit</label>
			<div class="col-sm-2"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>

		<div class="row nonchildcredit">
			<label class="control-label col-sm-2">Non-child dependent credit</label>
			<div class="col-sm-2"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>

	</div>

	<div class="well othertaxes">
		<div class="row ACAPenalty">
			<label class="control-label col-sm-2">ACA Penalty</label>
			<div class="col-sm-2"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>

	</div>
	
	<div class="well">
		<div class="row taxest">
			<label class="control-label col-sm-2">Regular Tax Estimate</label>
			<div class="col-sm-2"></div>
			<div class="col-sm-2 statusquo">Status quo</div>
			<div class="col-sm-2 senatebill">Senate bill</div>		
			<div class="col-sm-2 housebill">House bill</div>		
			<div class="col-sm-2 finalbill">Final bill</div>		
		</div>
		<div class="row taxcut">
			<label class="control-label col-sm-2">Percent change</label>
			<div class="col-sm-2"></div>
			<div class="col-sm-2 statusquo"></div>
			<div class="col-sm-2 senatebill">Senate bill</div>		
			<div class="col-sm-2 housebill">House bill</div>		
			<div class="col-sm-2 finalbill">Final bill</div>		
		</div>
		<div class="row amtest">
			<label class="control-label col-sm-2">AMT Tax Estimate</label>
			<div class="col-sm-2"></div>
			<div class="col-sm-2 statusquo">$0</div>
			<div class="col-sm-2 senatebill">$0</div>		
			<div class="col-sm-2 housebill">$0</div>		
			<div class="col-sm-2 finalbill">$0</div>		
		</div>
	</div>
	
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--script src="js/scripts.js"></script-->

	<script>
	var taxbracket_statusquo=[
		[[9325, 0, 0.1, 0],[37950,932.5, 0.15, 9325],[91900, 5226.25, 0.25, 37950],[191650, 18713.75, 0.28, 91900],[416700,46643.75, 0.33,191650], [418400,120910.25, 0.35,416700], [2000000,121505.25, 0.396,418400]],
		[[13350,0, 0.1,0],[50800,1335, 0.15, 13350],[131200,6952.5,0.25,50800],[212500,27052.5,0.28,131200],[416700,49816.5,0.33,212500],[444550,117202.5,0.35,416700],[2000000,126950,0.396,444550]],
		[[18650,0,0.1,0], [75900,1865,0.15, 18650], [153100,10452.5,0.25,75900],[233350,29752.5,0.28,153100],[416700,52222.5,0.33,233350],[470700,131628,0.35,416700],[2000000,131628,0.396,470700]],
		[[9325,0,0.1,0],  [37950,932.5,0.15,9325],	[76550,5226.25,0.25,37950], [116675,14876.25,0.28,76550],[208350,26111.25,0.33,116675],[235350,56364,0.35,208350],[2000000,65814,0.396,235350]],
	];
	var stdded_statusquo=[6350, 9350, 12700, 6350];
	var perex_statusquo=[261500,287650,313800,261500];
	var itemded_statusquo=[261500,287650,313800,261500];
	var childcredit_statusquo = [75000,75000,110000,55000];
	var amtex_statusquo = [54300,54300,84500,42250];
	var amtphaseout_statusquo = [120700,120700,160900,80450];
	var amtbracket_statusquo = [
					[[93900,0,0.26,0],[2000000,24414,0.28,93900]],
					[[93900,0,0.26,0],[2000000,24414,0.28,93900]],
					[[187800,0,0.26,0],[2000000,48828,0.28,187800]],
					[[93900,0,0.26,0],[2000000,24414,0.28,93900]]
	];
	
	var taxbracket_senatebill=[
		[[9525,0,0.1,0],[38700,952.5,0.12,9525],[60000,4453.5,0.22,38700],[170000,9246, 0.24,60000],[200000,36746,0.32,170000],[500000,46496,0.35,200000],[2000000,151496,0.385,500000]],
		[[13600,0,0.1,0],[51800,1360,0.12,13600],[60000,5944,0.22, 51800],[170000,7789,0.24,60000], [200000,35289,0.32,170000],[500000,45039,0.35,200000],[2000000,150039,0.385,500000]],
		[[19050,0,0.1,0],[77400,1905,0.12,19050],[120000,8907,0.22,77400],[290000,18492,0.24,120000],[390000,60992,0.32,290000],[1000000,93492,0.35,390000],[2000000,306992,0.385,1000000]],
		[[9525,0,0.1,0],[38700,952.5,0.12,9525],[60000,4453.5,0.22,38700],[145000,9246,0.24,60000],[195000,30496,0.32,145000],[500000,46746,0.35,195000],[2000000,153496,0.385,500000]]
	];
	var stdded_senatebill = [12000,18000,24000,12000];
	var childcredit_senatebill = [500000,500000,1000000,500000];
	
	
	var taxbracket_housebill=[
		[[45000,0,0.12,0],[200000,5400,0.25,45000],[500000,44150,0.35,200000],[1000000,149150,0.396,500000],[2000000,359570,0.396,1000000]],
		[[67500,0,0.12,0],[200000,8100,0.25,67500],[500000,41225,0.35,200000],[1000000,146225,0.396,500000],[2000000,352855,0.396,1000000]],
		[[90000,0,0.12,0],[260000,10800,0.25,90000],[1000000,53300,0.35,260000],[1200000,312300,0.396,1000000],[2000000,416340,0.396,1200000]],
		[[45000,0,0.12,0],[130000,5400,0.25,45000],[500000,26650,0.35,130000],[1000000,156150,0.396,500000],[2000000,366570,0.396,1000000]]
	];
	var stdded_housebill=[12200, 18300, 24400, 12200];
	var childcredit_housebill = [75000,75000,110000,55000];  //reference needed
	

	var taxbracket_finalbill=[
		[[9525,0,0.1,0],[38700,952.5,0.12,9525],[82500,4453.5,0.22,38700],[157500,14089.5, 0.24,82500],[200000,32089.5,0.32,157500],[500000,45689.5,0.35,200000],[2000000,150689.5,0.37,500000]],
		[[13600,0,0.1,0],[51800,1360,0.12,13600],[82500,5944,0.22, 51800],[157500,12698,0.24,82500], [200000,30698,0.32,157500],[500000,44298,0.35,200000],[2000000,149298,0.37,500000]],
		[[19050,0,0.1,0],[77400,1905,0.12,19050],[165000,8907,0.22,77400],[315000,28179,0.24,165000],[400000,64179,0.32,315000],[600000,91379,0.35,400000],[2000000,161379,0.37,600000]],
		[[9525,0,0.1,0],[38700,952.5,0.12,9525],[82500,4453.5,0.22,38700],[157500,14089.5,0.24,82500],[200000,32089.5,0.32,157500],[300000,45689.5,0.35,200000],[2000000,80689.5,0.37,300000]]
	];
	var childcredit_finalbill = [200000,200000,400000,200000];
	var stdded_finalbill = [12000,18000,24000,12000];

	function num2dol(mynum){
		return '$'+mynum.toFixed(2);
	}
	function dol2num(dol){
		if (isNaN(dol)){
			dol=dol.replace('$','');
			dol=dol.replace(',','');
		}
		return parseInt(dol);
	}
	filingtype=0;
	state = "AL";
	income_statusquo=0;
	$(document).ready(function(){
		$('[data-toggle1="tooltip"]').tooltip();
		Initialize();
	});

	function Initialize(){
		$("#salariedincome").val("150000").change();
		//updateIncome();
		$(".filingclass-selected").text("Married Individuals Filing Jointly").change();
		filingtype = 2;
		updateStdDeduction();
		$(".personalexemptioncount-selected").text("4");
		updatePersonalExemption();
		$(".childcount-selected").text("2");
		updateChildCredit();
		$("#salt").val("12000").change();
		$("#property").val("5000").change();
		$("#mortgage").val("10000").change();
		refreshTax();
	}
	
	$(".filingclass-item").click(function(e){
		filingtype=dol2num($(this).data('id'));
		$(".filingclass-selected").text($(this).text());
		updateStdDeduction();
		updatePersonalExemption();
		refreshTax();
		e.preventDefault();
	});
	/*$(".state").click(function(e){
		state=$(this).data('id');
		$(".state-selected").text($(this).text());
		updateStateIncomeTaxes();
		refreshTax();
		e.preventDefault();
	});*/
	function updateStdDeduction(){
		$(".stdded").find(".statusquo").text(num2dol(stdded_statusquo[filingtype]));
		$(".stdded").find(".senatebill").text(num2dol(stdded_senatebill[filingtype]));
		$(".stdded").find(".housebill").text(num2dol(stdded_housebill[filingtype]));
		$(".stdded").find(".finalbill").text(num2dol(stdded_finalbill[filingtype]));
	}
	$(".personalexemptioncount-item").click(function(e){
		$(".personalexemptioncount-selected").text($(this).text());
		updatePersonalExemption();
		refreshTax();
		e.preventDefault();
	});
	$(".ACApenaltyadultcount-item").click(function(e){
		$(".ACApenaltyadultcount-selected").text($(this).text());
		updateACAPenalty();
		refreshTax();
		e.preventDefault();
	});
	$(".ACApenaltychildcount-item").click(function(e){
		$(".ACApenaltychildcount-selected").text($(this).text());
		updateACAPenalty();
		refreshTax();
		e.preventDefault();
	});
	function updateACAPenalty(){
		if (dol2num($(".ACApenaltyadultcount-selected").text())>0 || dol2num($(".ACApenaltychildcount-selected").text())>0){
			$(".ACAPenalty").find(".statusquo").text(num2dol(Math.max(0.025*income_statusquo,Math.min(2085, 695*dol2num($(".ACApenaltyadultcount-selected").text())+ 347.5*dol2num($(".ACApenaltychildcount-selected").text())))));		
			$(".ACAPenalty").find(".housebill").text(num2dol(Math.max(0.025*income_statusquo,Math.min(2085, 695*dol2num($(".ACApenaltyadultcount-selected").text())+ 347.5*dol2num($(".ACApenaltychildcount-selected").text())))));		
		}
		else{
			$(".ACAPenalty").find(".statusquo").text(0);		
			$(".ACAPenalty").find(".housebill").text(0);		
		}
		$(".ACAPenalty").find(".senatebill").text(0);		
		$(".ACAPenalty").find(".finalbill").text(0);		
	}
	$(".childcount-item").click(function(e){
		$(".childcount-selected").text($(this).text());
		updateChildCredit();
		refreshTax();
		e.preventDefault();
	});
	$(".nonchildcount-item").click(function(e){
		$(".nonchildcount-selected").text($(this).text());
		updateNonChildCredit();
		refreshTax();
		e.preventDefault();
	});
	function updateChildCredit(){
		$(".childcredit").find(".statusquo").text(num2dol((1000-Math.max(0,(income_statusquo-childcredit_statusquo[filingtype])/1000))*dol2num($(".childcount-selected").text())));
		$(".childcredit").find(".senatebill").text(num2dol((2000-Math.max(0,(income_statusquo-childcredit_senatebill[filingtype])/1000))*dol2num($(".childcount-selected").text())));
		$(".childcredit").find(".housebill").text(num2dol((1600-Math.max(0,(income_statusquo-childcredit_housebill[filingtype])/1000))*dol2num($(".childcount-selected").text())));
		$(".childcredit").find(".finalbill").text(num2dol((2000-Math.max(0,(income_statusquo-childcredit_housebill[filingtype])/1000))*dol2num($(".childcount-selected").text())));
	}
	function updateNonChildCredit(count){
		$(".nonchildcredit").find(".statusquo").text("$0");
		$(".nonchildcredit").find(".senatebill").text(num2dol((500-Math.max(0,(income_statusquo-childcredit_senatebill[filingtype])/1000))*dol2num($(".nonchildcount-selected").text())));
		$(".nonchildcredit").find(".housebill").text("$0");
		$(".nonchildcredit").find(".finalbill").text(num2dol(500*dol2num($(".nonchildcount-selected").text())));
	}
	$("#salariedincome").change(function(){
		updateIncome();
		updateChildCredit();
		updatePersonalExemption();
		refreshTax();
	});
	$("#passthruincome").change(function(){
		updateIncome();
		updateChildCredit();
		updatePersonalExemption();
		refreshTax();
	});
	function updateIncome(){
		income_statusquo = dol2num($("#salariedincome").val())+dol2num($("#passthruincome").val());	
	}
	function updatePersonalExemption(){
		if (income_statusquo<perex_statusquo[filingtype])
			$(".personalexemption").find(".statusquo").text(num2dol(4050*dol2num($(".personalexemptioncount-selected").text())));
		else
			$(".personalexemption").find(".statusquo").text("$0");
		$(".personalexemption").find(".senatebill").text("$0");
		$(".personalexemption").find(".housebill").text("$0");
		$(".personalexemption").find(".finalbill").text("$0");
	}
	$("#salt").change(function(){
		$(".salt").find(".statusquo").text(num2dol(dol2num($("#salt").val())));
		$(".salt").find(".senatebill").text("$0");
		$(".salt").find(".housebill").text("$0");
		if(dol2num($("#property").val())<10000)
		{
			$(".salt").find(".finalbill").text(num2dol( Math.min(dol2num($("#salt").val()), 10000-dol2num($("#property").val()) )));
			$(".property").find(".finalbill").text(num2dol(dol2num($("#property").val())));
		}
		else
		{
			$(".salt").find(".finalbill").text("$0");
			$(".property").find(".finalbill").text("$10000");
		}
		refreshTax();
	});
	$("#property").change(function(){
		$(".property").find(".statusquo").text(num2dol(dol2num($("#property").val())));
		$(".property").find(".senatebill").text(num2dol(Math.min(10000,dol2num($("#property").val()))));
		$(".property").find(".housebill").text(num2dol(Math.min(10000,dol2num($("#property").val()))));
		if(dol2num($("#salt").val())<10000)
		{
			$(".property").find(".finalbill").text(num2dol( Math.min(dol2num($("#property").val()), 10000-dol2num($("#salt").val()) )));
			$(".salt").find(".finalbill").text(num2dol(dol2num($("#salt").val())));
		}
		else
		{
			$(".property").find(".finalbill").text("$0");
			$(".salt").find(".finalbill").text("$10000");
		}
		refreshTax();
	});
	$("#mortgage").change(function(){
		$(".mortgage").find(".statusquo").text(num2dol(dol2num($("#mortgage").val())));
		$(".mortgage").find(".senatebill").text(num2dol(dol2num($("#mortgage").val())));
		$(".mortgage").find(".housebill").text(num2dol(dol2num($("#mortgage").val())));
		$(".mortgage").find(".finalbill").text(num2dol(dol2num($("#mortgage").val())));
		refreshTax();
	});
	$("#studentloan").change(function(){
		$(".studentloan").find(".statusquo").text(num2dol(dol2num($("#studentloan").val())));
		$(".studentloan").find(".senatebill").text(num2dol(dol2num($("#studentloan").val())));
		$(".studentloan").find(".housebill").text("$0");
		$(".studentloan").find(".finalbill").text(num2dol(Math.min(2500, dol2num($("#studentloan").val()))));
		refreshTax();
	});
	$("#teacherexpense").change(function(){
		$(".teacherexpense").find(".statusquo").text(num2dol(Math.min(250,dol2num($("#teacherexpense").val()))));
		$(".teacherexpense").find(".senatebill").text(num2dol(Math.min(500,dol2num($("#teacherexpense").val()))));
		$(".teacherexpense").find(".housebill").text("$0");
		$(".teacherexpense").find(".finalbill").text(num2dol(Math.min(250,dol2num($("#teacherexpense").val()))));
		refreshTax();
	});
	$("#medicalexpense").change(function(){
		updateMedicalExpense();
		refreshTax();
	});
	function updateMedicalExpense(){
		$(".medicalexpense").find(".statusquo").text(num2dol(Math.max(0,dol2num($("#medicalexpense").val()) - 0.1*income_statusquo)));
		$(".medicalexpense").find(".senatebill").text(num2dol(Math.max(0,dol2num($("#medicalexpense").val()) - 0.075*income_statusquo)));
		$(".medicalexpense").find(".housebill").text("$0");	
		$(".medicalexpense").find(".finalbill").text(num2dol(Math.max(0,dol2num($("#medicalexpense").val()) - 0.075*income_statusquo)));
	}
	$("#taxprep").change(function(){
		$(".taxprep").find(".statusquo").text(num2dol(dol2num($("#taxprep").val())));
		$(".taxprep").find(".senatebill").text("$0");
		$(".taxprep").find(".housebill").text("$0");
		$(".taxprep").find(".finalbill").text("$0");
		refreshTax();
	});
	$("#movingexpense").change(function(){
		$(".movingexpense").find(".statusquo").text(num2dol(dol2num($("#movingexpense").val())));
		$(".movingexpense").find(".senatebill").text("$0");
		$(".movingexpense").find(".finalbill").text("$0");
		$(".movingexpense").find(".housebill").text("$0");
		refreshTax();
	});
	function refreshTax(){
		
		itemded=0;
		$(".deduction").find(".statusquo").each(function (index){
		itemded += dol2num($(this).text());
		});
		if (income_statusquo > itemded_statusquo[filingtype])
			itemded -= Math.min(0.02*itemded, 0.03*(income_statusquo - itemded_statusquo[filingtype]));  //Item 7
		AGI1 = income_statusquo - dol2num($(".personalexemption").find(".statusquo").text()) - itemded;
		//alert(AGI1);
		AGI2 = income_statusquo - dol2num($(".personalexemption").find(".statusquo").text())- dol2num($(".stdded").find(".statusquo").text());
		if (AGI1<AGI2) AGI = AGI1;
		else AGI = AGI2;
		if (AGI<taxbracket_statusquo[filingtype][0][0]) TaxEst_statusquo= taxbracket_statusquo[filingtype][0][1]+taxbracket_statusquo[filingtype][0][2]*(AGI-taxbracket_statusquo[filingtype][0][3]);
		else if (AGI<taxbracket_statusquo[filingtype][1][0]) TaxEst_statusquo= taxbracket_statusquo[filingtype][1][1]+taxbracket_statusquo[filingtype][1][2]*(AGI-taxbracket_statusquo[filingtype][1][3]);
		else if (AGI<taxbracket_statusquo[filingtype][2][0]) TaxEst_statusquo= taxbracket_statusquo[filingtype][2][1]+taxbracket_statusquo[filingtype][2][2]*(AGI-taxbracket_statusquo[filingtype][2][3]);
		else if (AGI<taxbracket_statusquo[filingtype][3][0]) TaxEst_statusquo= taxbracket_statusquo[filingtype][3][1]+taxbracket_statusquo[filingtype][3][2]*(AGI-taxbracket_statusquo[filingtype][3][3]);
		else if (AGI<taxbracket_statusquo[filingtype][4][0]) TaxEst_statusquo= taxbracket_statusquo[filingtype][4][1]+taxbracket_statusquo[filingtype][4][2]*(AGI-taxbracket_statusquo[filingtype][4][3]);
		else if (AGI<taxbracket_statusquo[filingtype][5][0]) TaxEst_statusquo= taxbracket_statusquo[filingtype][5][1]+taxbracket_statusquo[filingtype][5][2]*(AGI-taxbracket_statusquo[filingtype][5][3]);
		else TaxEst_statusquo= taxbracket_statusquo[filingtype][6][1]+taxbracket_statusquo[filingtype][6][2]*(AGI-taxbracket_statusquo[filingtype][6][3]);
		//alert(dol2num($(".personalexemption").find(".statusquo").text()));
		
		credits=0;
		$(".credit").find(".statusquo").each(function (index){
		credits += dol2num($(this).text());
		});
		//alert(credits);
		TaxEst_statusquo = Math.max(0,TaxEst_statusquo - credits);
		
		othertaxes=0;
		$(".othertaxes").find(".statusquo").each(function (index){
		othertaxes += dol2num($(this).text());
		});
		//alert(othertaxes);
		TaxEst_statusquo += othertaxes;
		$(".taxest").find(".statusquo").html("<b>"+num2dol(TaxEst_statusquo)+"</b>");

		AGI_amt = income_statusquo - Math.max(0,amtex_statusquo[filingtype]-(income_statusquo-amtphaseout_statusquo)*0.25);
		AmtEst =0;
		if (AGI_amt<amtbracket_statusquo[filingtype][0][0]) AmtEst= amtbracket_statusquo[filingtype][0][1]+amtbracket_statusquo[filingtype][0][2]*(AGI_amt-amtbracket_statusquo[filingtype][0][3]);
		else if (AGI_amt<amtbracket_statusquo[filingtype][1][0]) AmtEst= amtbracket_statusquo[filingtype][1][1]+amtbracket_statusquo[filingtype][1][2]*(AGI_amt-taxbracket_statusquo[filingtype][1][3]);
		$(".amtest").find(".statusquo").text(num2dol(Math.max(0,AmtEst - TaxEst_statusquo)));

		
		itemded=0;
		$(".deduction").find(".senatebill").each(function (index){
		itemded += dol2num($(this).text());
		});

		AGI1 = income_statusquo - itemded;
		AGI2 = income_statusquo - dol2num($(".stdded").find(".senatebill").text());

		if (AGI1<AGI2) AGI = AGI1;
		else AGI = AGI2;
		if (AGI<taxbracket_senatebill[filingtype][0][0]) TaxEst_senatebill= taxbracket_senatebill[filingtype][0][1]+taxbracket_senatebill[filingtype][0][2]*(AGI-taxbracket_senatebill[filingtype][0][3]);
		else if (AGI<taxbracket_senatebill[filingtype][1][0]) TaxEst_senatebill= taxbracket_senatebill[filingtype][1][1]+taxbracket_senatebill[filingtype][1][2]*(AGI-taxbracket_senatebill[filingtype][1][3]);
		else if (AGI<taxbracket_senatebill[filingtype][2][0]) TaxEst_senatebill= taxbracket_senatebill[filingtype][2][1]+taxbracket_senatebill[filingtype][2][2]*(AGI-taxbracket_senatebill[filingtype][2][3]);
		else if (AGI<taxbracket_senatebill[filingtype][3][0]) TaxEst_senatebill= taxbracket_senatebill[filingtype][3][1]+taxbracket_senatebill[filingtype][3][2]*(AGI-taxbracket_senatebill[filingtype][3][3]);
		else if (AGI<taxbracket_senatebill[filingtype][4][0]) TaxEst_senatebill= taxbracket_senatebill[filingtype][4][1]+taxbracket_senatebill[filingtype][4][2]*(AGI-taxbracket_senatebill[filingtype][4][3]);
		else if (AGI<taxbracket_senatebill[filingtype][5][0]) TaxEst_senatebill= taxbracket_senatebill[filingtype][5][1]+taxbracket_senatebill[filingtype][5][2]*(AGI-taxbracket_senatebill[filingtype][5][3]);
		else TaxEst_senatebill= taxbracket_senatebill[filingtype][6][1]+taxbracket_senatebill[filingtype][6][2]*(AGI-taxbracket_senatebill[filingtype][6][3]);

		credits=0;
		$(".credit").find(".senatebill").each(function (index){
		credits += dol2num($(this).text());
		});
		TaxEst_senatebill = Math.max(0,TaxEst_senatebill - credits);
		
		othertaxes=0;
		$(".othertaxes").find(".senatebill").each(function (index){
		othertaxes += dol2num($(this).text());
		});
		TaxEst_senatebill += othertaxes;
		//alert(TaxEst_senatebill);

		if (TaxEst_senatebill>TaxEst_statusquo)
		{
			$(".taxest").find(".senatebill").html("<span style=\"font-weight:bold;color:red\">"+num2dol(TaxEst_senatebill)+"</span>");
			$(".taxcut").find(".senatebill").html("<span style=\"font-weight:bold;color:red\">"+((TaxEst_senatebill-TaxEst_statusquo)/income_statusquo).toFixed(2)+"% Increase</span>");
		}
		else
		{
			$(".taxest").find(".senatebill").html("<span style=\"font-weight:bold;color:green\">"+num2dol(TaxEst_senatebill)+"</span>");
			$(".taxcut").find(".senatebill").html("<span style=\"font-weight:bold;color:green\">"+((TaxEst_statusquo-TaxEst_senatebill)/income_statusquo).toFixed(2)+"% Cut</span>");
		}
		
		itemded=0;
		$(".deduction").find(".housebill").each(function (index){
		itemded += dol2num($(this).text());
		});

		AGI1 = income_statusquo - itemded;
		AGI2 = income_statusquo - dol2num($(".stdded").find(".housebill").text());

		if (AGI1<AGI2) AGI = AGI1;
		else AGI = AGI2;
		if (AGI<taxbracket_housebill[filingtype][0][0]) TaxEst_housebill= taxbracket_housebill[filingtype][0][1]+taxbracket_housebill[filingtype][0][2]*(AGI-taxbracket_housebill[filingtype][0][3]);
		else if (AGI<taxbracket_housebill[filingtype][1][0]) TaxEst_housebill= taxbracket_housebill[filingtype][1][1]+taxbracket_housebill[filingtype][1][2]*(AGI-taxbracket_housebill[filingtype][1][3]);
		else if (AGI<taxbracket_housebill[filingtype][2][0]) TaxEst_housebill= taxbracket_housebill[filingtype][2][1]+taxbracket_housebill[filingtype][2][2]*(AGI-taxbracket_housebill[filingtype][2][3]);
		else if (AGI<taxbracket_housebill[filingtype][3][0]) TaxEst_housebill= taxbracket_housebill[filingtype][3][1]+taxbracket_housebill[filingtype][3][2]*(AGI-taxbracket_housebill[filingtype][3][3]);
		else TaxEst_housebill= taxbracket_housebill[filingtype][4][1]+taxbracket_housebill[filingtype][4][2]*(AGI-taxbracket_housebill[filingtype][4][3]);

		credits=0;
		$(".credit").find(".housebill").each(function (index){
		credits += dol2num($(this).text());
		});
		TaxEst_housebill = Math.max(0,TaxEst_housebill - credits);
		
		othertaxes=0;
		$(".othertaxes").find(".housebill").each(function (index){
		othertaxes += dol2num($(this).text());
		});
		TaxEst_housebill += othertaxes;
		//alert(TaxEst_housebill);
		
		if (TaxEst_housebill>TaxEst_statusquo)
		{
			$(".taxest").find(".housebill").html("<span style=\"font-weight:bold;color:red\">"+num2dol(TaxEst_housebill)+"</span>");
			$(".taxcut").find(".housebill").html("<span style=\"font-weight:bold;color:red\">"+((TaxEst_housebill-TaxEst_statusquo)/income_statusquo).toFixed(2)+"% Increase</span>");
		}
		else
		{
			$(".taxest").find(".housebill").html("<span style=\"font-weight:bold;color:green\">"+num2dol(TaxEst_housebill)+"</span>");
			$(".taxcut").find(".housebill").html("<span style=\"font-weight:bold;color:green\">"+((TaxEst_statusquo-TaxEst_housebill)/income_statusquo).toFixed(2)+"% Cut</span>");
		}


		itemded=0;
		$(".deduction").find(".finalbill").each(function (index){
		itemded += dol2num($(this).text());
		});

		AGI1 = income_statusquo - itemded;
		AGI2 = income_statusquo - dol2num($(".stdded").find(".finalbill").text());

		if (AGI1<AGI2) AGI = AGI1;
		else AGI = AGI2;
		if (AGI<taxbracket_finalbill[filingtype][0][0]) TaxEst_finalbill= taxbracket_finalbill[filingtype][0][1]+taxbracket_finalbill[filingtype][0][2]*(AGI-taxbracket_finalbill[filingtype][0][3]);
		else if (AGI<taxbracket_finalbill[filingtype][1][0]) TaxEst_finalbill= taxbracket_finalbill[filingtype][1][1]+taxbracket_finalbill[filingtype][1][2]*(AGI-taxbracket_finalbill[filingtype][1][3]);
		else if (AGI<taxbracket_finalbill[filingtype][2][0]) TaxEst_finalbill= taxbracket_finalbill[filingtype][2][1]+taxbracket_finalbill[filingtype][2][2]*(AGI-taxbracket_finalbill[filingtype][2][3]);
		else if (AGI<taxbracket_finalbill[filingtype][3][0]) TaxEst_finalbill= taxbracket_finalbill[filingtype][3][1]+taxbracket_finalbill[filingtype][3][2]*(AGI-taxbracket_finalbill[filingtype][3][3]);
		else if (AGI<taxbracket_finalbill[filingtype][4][0]) TaxEst_finalbill= taxbracket_finalbill[filingtype][4][1]+taxbracket_finalbill[filingtype][4][2]*(AGI-taxbracket_finalbill[filingtype][4][3]);
		else if (AGI<taxbracket_finalbill[filingtype][5][0]) TaxEst_finalbill= taxbracket_finalbill[filingtype][5][1]+taxbracket_finalbill[filingtype][5][2]*(AGI-taxbracket_finalbill[filingtype][5][3]);
		else TaxEst_finalbill= taxbracket_finalbill[filingtype][6][1]+taxbracket_finalbill[filingtype][6][2]*(AGI-taxbracket_finalbill[filingtype][6][3]);

		credits=0;
		$(".credit").find(".finalbill").each(function (index){
		credits += dol2num($(this).text());
		});
		TaxEst_finalbill = Math.max(0,TaxEst_finalbill - credits);
		
		othertaxes=0;
		$(".othertaxes").find(".finalbill").each(function (index){
		othertaxes += dol2num($(this).text());
		});
		TaxEst_finalbill += othertaxes;
		//alert(TaxEst_finalbill);

		if (TaxEst_finalbill>TaxEst_statusquo)
		{
			$(".taxest").find(".finalbill").html("<span style=\"font-weight:bold;color:red\">"+num2dol(TaxEst_finalbill)+"</span>");
			$(".taxcut").find(".finalbill").html("<span style=\"font-weight:bold;color:red\">"+((TaxEst_finalbill-TaxEst_statusquo)/income_statusquo).toFixed(2)+"% Increase</span>");
		}
		else
		{
			$(".taxest").find(".finalbill").html("<span style=\"font-weight:bold;color:green\">"+num2dol(TaxEst_finalbill)+"</span>");
			$(".taxcut").find(".finalbill").html("<span style=\"font-weight:bold;color:green\">"+((TaxEst_statusquo-TaxEst_finalbill)/income_statusquo).toFixed(2)+"% Cut</span>");
		}
		
		
	}

	function updateStateIncomeTaxes(){
		switch(state){
			case "AL":
				SAGI = income_statusquo - ((filingtype == 2)?7500+3000:2500+1500) - 1000*dol2num($(".childcount-selected").text()) - 1000*dol2num($(".nonchildcount-selected").text()) ;
				stateTax = 0;
				if (filingtype == 2)
				{
					if (SAGI>6000) {stateTax += 0.05 * (SAGI - 6000); SAGI=6000;}
					if (SAGI>1000) {stateTax += 0.04 * (SAGI - 1000); SAGI=1000;}
					stateTax += 0.02 * SAGI;
				}
				else
				{
					if (SAGI>3000) {stateTax += 0.05 * (SAGI - 6000); SAGI=3000;}
					if (SAGI>500) {stateTax += 0.04 * (SAGI - 1000); SAGI=500;}
					stateTax += 0.02 * SAGI;
				}
				$(".salt").find(".statusquo").text(num2dol(stateTax));
				break;
			case "AZ":
				SAGI = income_statusquo - ((filingtype == 2)?10189+4200:5099+2100) - 2100*dol2num($(".childcount-selected").text()) - 2100*dol2num($(".nonchildcount-selected").text()) ;
				stateTax = (filingtype == 2)?((SAGI<20357)?0.0259*SAGI:((SAGI<6000)?0.04*SAGI:0.05*SAGI)):((SAGI<500)?0.02*SAGI:((SAGI<3000)?0.04*SAGI:0.05*SAGI));
				$(".salt").find(".statusquo").text(num2dol(stateTax));
				break;
			default:
				$(".salt").find(".statusquo").text("$0");
		}
	}


	</script>
	</body>
</html>
